
<!doctype html>
<html>
<head>
<title>Sprite Raster Proof - 100</title>
<link rel="stylesheet" media="all" href="sprite_p.css">
<link rel="stylesheet" media="all" href="sprite_raster.css">
<style>

body {
background: black;
color: white;
}
.container {
position: relative;
display: flex;
flex-wrap: wrap;
}
.p {
transition: opacity linear 0.5s;
}
input[name=assembled]:checked + .container .p {
position: absolute;
}
.p.is-highlight,
.p:hover,
.p:active {
opacity: 0;
}

</style>
</head>
<body>
<p>
Piece count: 108<br>
<button>
<label for="assembled">Toggle Assembled State</label>
</button>
</p>

<!-- All the piece div elements -->
<input type="checkbox" checked id="assembled" name="assembled">
<div class="container">

<div id='p-0' class='p pc-0' style='left:1682px;top:1095px;'></div>
<div id='p-1' class='p pc-1' style='left:580px;top:1257px;'></div>
<div id='p-2' class='p pc-2' style='left:266px;top:1215px;'></div>
<div id='p-3' class='p pc-3' style='left:629px;top:115px;'></div>
<div id='p-4' class='p pc-4' style='left:1376px;top:943px;'></div>
<div id='p-5' class='p pc-5' style='left:0px;top:427px;'></div>
<div id='p-6' class='p pc-6' style='left:1211px;top:934px;'></div>
<div id='p-7' class='p pc-7' style='left:1415px;top:626px;'></div>
<div id='p-8' class='p pc-8' style='left:471px;top:904px;'></div>
<div id='p-9' class='p pc-9' style='left:314px;top:630px;'></div>
<div id='p-10' class='p pc-10' style='left:587px;top:1102px;'></div>
<div id='p-11' class='p pc-11' style='left:148px;top:470px;'></div>
<div id='p-12' class='p pc-12' style='left:787px;top:306px;'></div>
<div id='p-13' class='p pc-13' style='left:0px;top:944px;'></div>
<div id='p-14' class='p pc-14' style='left:1213px;top:0px;'></div>
<div id='p-15' class='p pc-15' style='left:1370px;top:423px;'></div>
<div id='p-16' class='p pc-16' style='left:616px;top:629px;'></div>
<div id='p-17' class='p pc-17' style='left:0px;top:1061px;'></div>
<div id='p-18' class='p pc-18' style='left:617px;top:743px;'></div>
<div id='p-19' class='p pc-19' style='left:1566px;top:0px;'></div>
<div id='p-20' class='p pc-20' style='left:627px;top:0px;'></div>
<div id='p-21' class='p pc-21' style='left:302px;top:1096px;'></div>
<div id='p-22' class='p pc-22' style='left:0px;top:774px;'></div>
<div id='p-23' class='p pc-23' style='left:114px;top:272px;'></div>
<div id='p-24' class='p pc-24' style='left:1210px;top:313px;'></div>
<div id='p-25' class='p pc-25' style='left:419px;top:579px;'></div>
<div id='p-26' class='p pc-26' style='left:1102px;top:1259px;'></div>
<div id='p-27' class='p pc-27' style='left:105px;top:621px;'></div>
<div id='p-28' class='p pc-28' style='left:749px;top:944px;'></div>
<div id='p-29' class='p pc-29' style='left:472px;top:0px;'></div>
<div id='p-30' class='p pc-30' style='left:744px;top:787px;'></div>
<div id='p-31' class='p pc-31' style='left:1573px;top:313px;'></div>
<div id='p-32' class='p pc-32' style='left:305px;top:306px;'></div>
<div id='p-33' class='p pc-33' style='left:1528px;top:944px;'></div>
<div id='p-34' class='p pc-34' style='left:944px;top:626px;'></div>
<div id='p-35' class='p pc-35' style='left:585px;top:422px;'></div>
<div id='p-36' class='p pc-36' style='left:1415px;top:787px;'></div>
<div id='p-37' class='p pc-37' style='left:1089px;top:780px;'></div>
<div id='p-38' class='p pc-38' style='left:1257px;top:1098px;'></div>
<div id='p-39' class='p pc-39' style='left:1531px;top:737px;'></div>
<div id='p-40' class='p pc-40' style='left:786px;top:120px;'></div>
<div id='p-41' class='p pc-41' style='left:0px;top:157px;'></div>
<div id='p-42' class='p pc-42' style='left:153px;top:746px;'></div>
<div id='p-43' class='p pc-43' style='left:0px;top:582px;'></div>
<div id='p-44' class='p pc-44' style='left:785px;top:1259px;'></div>
<div id='p-45' class='p pc-45' style='left:778px;top:1101px;'></div>
<div id='p-46' class='p pc-46' style='left:1100px;top:623px;'></div>
<div id='p-47' class='p pc-47' style='left:114px;top:0px;'></div>
<div id='p-48' class='p pc-48' style='left:1101px;top:153px;'></div>
<div id='p-49' class='p pc-49' style='left:1417px;top:0px;'></div>
<div id='p-50' class='p pc-50' style='left:1055px;top:0px;'></div>
<div id='p-51' class='p pc-51' style='left:1369px;top:1254px;'></div>
<div id='p-52' class='p pc-52' style='left:1102px;top:903px;'></div>
<div id='p-53' class='p pc-53' style='left:1730px;top:0px;'></div>
<div id='p-54' class='p pc-54' style='left:905px;top:465px;'></div>
<div id='p-55' class='p pc-55' style='left:1257px;top:629px;'></div>
<div id='p-56' class='p pc-56' style='left:746px;top:434px;'></div>
<div id='p-57' class='p pc-57' style='left:1413px;top:157px;'></div>
<div id='p-58' class='p pc-58' style='left:271px;top:944px;'></div>
<div id='p-59' class='p pc-59' style='left:1730px;top:1259px;'></div>
<div id='p-60' class='p pc-60' style='left:0px;top:274px;'></div>
<div id='p-61' class='p pc-61' style='left:944px;top:156px;'></div>
<div id='p-62' class='p pc-62' style='left:434px;top:308px;'></div>
<div id='p-63' class='p pc-63' style='left:1221px;top:472px;'></div>
<div id='p-64' class='p pc-64' style='left:1220px;top:1214px;'></div>
<div id='p-65' class='p pc-65' style='left:1719px;top:625px;'></div>
<div id='p-66' class='p pc-66' style='left:1376px;top:304px;'></div>
<div id='p-67' class='p pc-67' style='left:905px;top:787px;'></div>
<div id='p-68' class='p pc-68' style='left:469px;top:1099px;'></div>
<div id='p-69' class='p pc-69' style='left:1403px;top:1062px;'></div>
<div id='p-70' class='p pc-70' style='left:1220px;top:784px;'></div>
<div id='p-71' class='p pc-71' style='left:1567px;top:114px;'></div>
<div id='p-72' class='p pc-72' style='left:157px;top:1257px;'></div>
<div id='p-73' class='p pc-73' style='left:891px;top:265px;'></div>
<div id='p-74' class='p pc-74' style='left:740px;top:0px;'></div>
<div id='p-75' class='p pc-75' style='left:467px;top:737px;'></div>
<div id='p-76' class='p pc-76' style='left:315px;top:118px;'></div>
<div id='p-77' class='p pc-77' style='left:146px;top:1095px;'></div>
<div id='p-78' class='p pc-78' style='left:313px;top:469px;'></div>
<div id='p-79' class='p pc-79' style='left:940px;top:1217px;'></div>
<div id='p-80' class='p pc-80' style='left:153px;top:113px;'></div>
<div id='p-81' class='p pc-81' style='left:906px;top:899px;'></div>
<div id='p-82' class='p pc-82' style='left:939px;top:1058px;'></div>
<div id='p-83' class='p pc-83' style='left:786px;top:623px;'></div>
<div id='p-84' class='p pc-84' style='left:936px;top:0px;'></div>
<div id='p-85' class='p pc-85' style='left:1529px;top:469px;'></div>
<div id='p-86' class='p pc-86' style='left:1527px;top:1102px;'></div>
<div id='p-87' class='p pc-87' style='left:580px;top:272px;'></div>
<div id='p-88' class='p pc-88' style='left:156px;top:905px;'></div>
<div id='p-89' class='p pc-89' style='left:1685px;top:426px;'></div>
<div id='p-90' class='p pc-90' style='left:314px;top:0px;'></div>
<div id='p-91' class='p pc-91' style='left:313px;top:742px;'></div>
<div id='p-92' class='p pc-92' style='left:1217px;top:109px;'></div>
<div id='p-93' class='p pc-93' style='left:1064px;top:1099px;'></div>
<div id='p-94' class='p pc-94' style='left:1057px;top:313px;'></div>
<div id='p-95' class='p pc-95' style='left:0px;top:0px;'></div>
<div id='p-96' class='p pc-96' style='left:627px;top:930px;'></div>
<div id='p-97' class='p pc-97' style='left:1729px;top:748px;'></div>
<div id='p-98' class='p pc-98' style='left:471px;top:428px;'></div>
<div id='p-99' class='p pc-99' style='left:1731px;top:899px;'></div>
<div id='p-100' class='p pc-100' style='left:1689px;top:314px;'></div>
<div id='p-101' class='p pc-101' style='left:0px;top:1210px;'></div>
<div id='p-102' class='p pc-102' style='left:1732px;top:157px;'></div>
<div id='p-103' class='p pc-103' style='left:1523px;top:629px;'></div>
<div id='p-104' class='p pc-104' style='left:434px;top:1220px;'></div>
<div id='p-105' class='p pc-105' style='left:1056px;top:426px;'></div>
<div id='p-106' class='p pc-106' style='left:422px;top:111px;'></div>
<div id='p-107' class='p pc-107' style='left:1535px;top:1255px;'></div>
</div>

<script>
/* Toggle the adjacent pieces next to the one that is clicked. */
fetch("/adjacent.json")
.then(response => response.json())
.then(adjacent => {
    document.addEventListener('click', (event) => {
        for (let target = event.target; target && target != this; target = target.parentNode) {
            if (target.classList && target.classList.contains('p')) {
                const $piece = target;
                const piece_id = $piece.getAttribute("id").replace("p-", "");
                const adjacent_piece_ids = adjacent[piece_id];
                adjacent_piece_ids
                    .map(pc => {return document.getElementById("p-"+pc)})
                    .map(el => el.classList.toggle('is-highlight'))
                break;
            }
        }
    }, false);
});
</script>

</body>
</html>